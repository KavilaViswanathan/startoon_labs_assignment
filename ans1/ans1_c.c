#include <stdio.h>
#include <stdlib.h>

#define MAX_SIZE 1000

void find_peaks(float data[], int size, int maxima[], int minima[], int *max_count, int *min_count) {
    *max_count = 0;
    *min_count = 0;
    for (int i = 1; i < size - 1; i++) {
        if (data[i] > data[i - 1] && data[i] > data[i + 1]) {
            maxima[*max_count] = i;
            (*max_count)++;
        } else if (data[i] < data[i - 1] && data[i] < data[i + 1]) {
            minima[*min_count] = i;
            (*min_count)++;
        }
    }
}

int main() {
    // Replace these with your actual data points
    float data1[] = {
    21.51712000910669, 21.308579234306233, 21.100330768011172, 20.904754026367424, 
    20.732195087498166, 20.591094316651393, 20.48811399134753, 20.42826592652698, 
    20.415039099697722, 20.450527276082887, 20.535556633768334, 20.669813388850226, 
    20.851971420582622, 21.079819896525045, 21.350390897690062, 21.660087043690872, 
    22.004809117888872, 22.380083692541252, 22.781190753948557, 23.20329132760229, 
    23.64155510333246, 24.091288060455188, 24.54806009292028, 25.00783263445879, 
    25.467086283730623, 26.083738764191658, 26.423833350306317, 26.74093331894643, 
    27.05697768557988, 27.362706416761995, 27.7194058314717, 28.080233590662928, 
    28.45831678463649, 28.873906510800055, 29.379705789637686, 30.013282555931376, 
    30.798935252406444, 31.721258360668493, 32.828460754044514, 34.161188335543784, 
    35.68129180541785, 37.40322559510451, 39.244514265642024, 41.149162572466054, 
    43.10944815980754, 45.02276729648092, 46.920439223706374, 48.691647940231576, 
    50.21271948075768, 51.412450354483155, 52.32102973364831, 52.87419000746831, 
    53.12060252836704, 52.99776468346933, 52.553217756219205, 51.77250731517874, 
    50.680599392956275, 49.2639815000035, 47.57162155019922, 45.584538303995245, 
    43.41529969617231, 41.08345265398756, 38.644708924931734, 36.11257054704808, 
    33.55183031924853, 31.10617683893871, 28.77360603003168, 26.629711015435834, 
    24.65025606145596, 22.757205005886014, 21.153842234174043, 19.901329953676882, 
    18.960553406870098, 18.238460231715152, 17.803233434063714, 17.60645902980288, 
    17.636765781474665, 17.845081260150113, 18.143205214994605, 18.553452915656585, 
    19.018965561969814, 19.505733956610428, 19.890115488794574, 20.21060697081257, 
    20.447010869219934, 20.651303824902087, 20.826366533929228, 20.96966058702045, 
    21.155193091197912, 21.33509745992397, 21.614826765939327, 21.960228103726152, 
    22.370789349538637, 22.852345056052258, 23.41806411958788, 24.068211747085268, 
    24.769490749999875, 25.447784280506827, 26.053795202319336, 26.6643891090816, 
    27.265884980726955, 27.965867997019476, 28.48079535905091, 28.929660064310866, 
    29.310413617816128, 29.68324101120446, 29.91050637491296, 30.160737614457194, 
    30.255387750325127, 30.281294418384856, 30.24218358017479, 30.18164062449019, 
    30.105942986531588, 30.114434834357525, 30.169144543804762, 30.21370453544283, 
    30.372992004085656, 30.766201138694452, 31.28162756009049, 31.945490175045904, 
    32.718582775367366, 33.757498954279654, 34.996535325496254, 36.447869198799545, 
    38.05847747636436, 39.674981709196615, 41.36919549470314, 43.04230115939059, 
    44.69570312424556, 46.259079744202396, 47.5645942195147, 48.56580398120341, 
    49.33443640175887, 49.81679164840616, 50.017200563536434, 49.87536449539491, 
    49.36764344607229, 48.57755147284137, 47.4507472818068, 46.09693640181286, 
    44.48840797374632, 42.69120375136861, 40.70686402523151, 38.622857440818514, 
    36.51781850899788, 34.35936324147581, 32.120978782901595, 29.898913042972616, 
    27.838235524194754, 25.93651233233728, 24.189361673922026, 22.53796117227774, 
    21.183400396798994, 20.05727686002878, 19.181630173170717, 18.463087896845114, 
    18.06396451683518, 17.78108146918115, 17.697195077042146, 17.8023881685956, 
    18.03312996416031, 18.39849367652875, 18.776464516823395, 19.08785012509575, 
    19.369104044405386, 19.696881531858047, 20.04975961504606, 20.290510033102198, 
    20.505999163533335, 20.67529786754385, 20.956091920632737, 21.21969847372192, 
    21.528396738766865, 21.91182718399449, 22.220283757985932, 22.453601849537158, 
    22.563201556893155, 22.584570965337594, 22.52886705647565, 22.38309860957175, 
    22.261415655978475, 22.160612196532014, 22.118471728305302, 22.168567098287756, 
    22.20691758950786, 22.405298912665064, 22.417276337414048, 22.275194658904752, 
    22.14843096743532, 22.09931803892446, 22.182817725377905, 22.397671926879312, 
    22.809428563578066, 23.400011757548057, 23.300849184389183, 23.83247151924645, 
    24.90339673871003, 26.400811297631307, 28.169344428872417, 30.13347225074568, 
    32.245481029974314, 34.13715640619658, 36.13544497221637, 38.15403558673079, 
    40.16750104447271, 42.11750496375413, 43.91314929900803, 45.504200197810526, 
    46.85275135790471, 47.883625103706585, 48.52889579767549, 48.7511326817576, 
    48.46593594882754, 47.56873692475435, 46.118805168539835, 44.16247259166349, 
    41.75118364004667, 39.24962384713245, 36.73288270157959, 34.104327097652865, 
    31.27888566125878, 28.243835029830165, 24.95220689294829, 21.34783064109065, 
    17.436470958765195, 13.29528623181794, 9.12081747278881, 5.233743014245353, 
    1.8459081795191267, 0.19713354187031534
    };
    int size1 = sizeof(data1) / sizeof(data1[0]);
    int maxima1[MAX_SIZE], minima1[MAX_SIZE];
    int max_count1, min_count1;

    float data2[] = {
        76.07031731124998, 66.955860846516, 59.49726213852769, 53.46089659209292, 48.635266415021164, 
        44.830071536359696, 41.875280524629886, 39.62020150606339, 37.932553082838396, 36.69753525131593, 
        35.816900320275984, 35.20802382915387, 34.80297546627641, 34.54758998709808, 34.40053813243752, 
        34.33239754671342, 34.32472369618108, 34.36912078716847, 34.466312684312484, 34.6252138287952, 
        34.86200015658022, 35.19918001664875, 35.66466508923594, 36.290841304067136, 37.113639758594005, 
        39.008885085043914, 40.575487300736654, 42.75815086675347, 45.162079326161155, 47.847191157219584, 
        50.66376593769052, 53.63352973362707, 57.217114338499826, 61.01858538776683, 65.81820521419091, 
        71.31706469361326, 77.59102999451085, 83.65553276405734, 91.43569058165188, 100.15191784948149, 
        109.7278715491527, 120.53762802890347, 131.6393982523784, 142.59995427226033, 154.41137776704423, 
        166.23024273339988, 177.9023829401425, 188.86893159171305, 199.69167014713204, 209.4631688927862, 
        218.48486360417192, 226.31742788079507, 232.60066366664165, 236.9864940386406, 239.45573525933406, 
        240.03859479109622, 238.68233172673712, 235.15671508800008, 229.9078111896767, 223.10632576964053, 
        214.52215718700901, 204.4535927013927, 193.12039741521255, 180.80194920262767, 168.02948369280978, 
        154.8931385843359, 141.7020720084717, 128.06089699825068, 114.52817986846279, 101.45941941717875, 
        89.44345735634528, 78.65245087659484, 68.88530256990401, 60.91382472722966, 53.76773620310324, 
        48.406678510886415, 44.223970526007506, 40.57749007038373, 37.88047005579739, 35.866482022804824, 
        34.749617213041226, 33.85768446849118, 32.982350020345514, 32.82720134768932, 32.19436010606123, 
        31.497822167109817, 30.33940870559099, 30.168500469807903, 29.59246315794473, 29.13826949156443, 
        28.859408966903562, 28.049167798439015, 27.252351588168256, 27.271920724873667, 27.216594376630557, 
        27.419540394603835, 28.04124555763697, 28.846358956452903, 29.69227503085344, 31.128972877819223, 
        32.869341815917, 35.28652017080937, 37.248544627298074, 39.3865606703222, 41.79714151267287, 
        44.121183893486496, 46.876488032236004, 49.85899482566396, 53.08977189500746, 56.743358067604674, 
        60.74674827447696, 65.33257995291135, 70.8248079524007, 76.99153689251413, 83.88464281840125, 
        91.37703804193708, 99.04154081145664, 107.89252063990268, 117.28610602854019, 126.54205424117669, 
        136.90294601566737, 147.71567594859528, 158.98136496387332, 170.15239731109264, 180.94460702035852, 
        190.93672135965443, 200.6061742232033, 209.47625156419028, 217.2106801280226, 224.24988241678292, 
        229.50871263199457, 233.66250783468308, 236.46227659508682, 237.39810566070594, 236.73633204031526, 
        234.37630382129106, 230.23621315455443, 224.8336277135918, 218.07134980818722, 210.02897156835618, 
        201.00498013874238, 191.32726927979195, 181.20258543798968, 170.7518002688518, 160.16082253073625, 
        149.59649482397492, 138.76181150476003, 128.57714516922982, 118.96253396537902, 110.00227973267094, 
        101.81178407018409, 93.58233303562425, 86.38821331375597, 79.86493650575596, 73.78390206814981, 
        68.62794340393941, 63.74942516614575, 59.4395119137103, 55.864161788352774, 52.33692385990075, 
        49.44299357148819, 46.694400605397526, 43.913349184039866, 41.18011470457102, 38.17616664860173, 
        35.225791700909184, 32.84509824359159, 30.251166648735826, 27.964628187236123, 26.85405126417803, 
        25.82374712539954, 25.11171091094675, 24.565551839049725, 24.306894073585983, 24.341513377515312, 
        24.939466188960175, 25.74522627464903, 26.993960336082928, 29.319599184287956, 31.63367213575402, 
        34.33216842542427, 36.62127665072013, 39.25213994499012, 42.64786266650478, 46.0809913244736, 
        49.08678276464027, 51.96879180514341, 54.6094259501657, 57.05655701199722, 59.72710205793873, 
        62.64614208715365, 65.78532739228457, 69.37606082658854, 73.53961773496316, 78.42349759483064, 
        84.01116351237859, 90.3321527472219, 97.46288147828896, 105.91855272605615, 114.98702053526787, 
        124.62729540968719, 134.95468619128553, 145.88456573750588, 157.2763482414942, 168.60970944531624, 
        180.2027017110068, 191.31418138264166, 202.0692438302023, 211.77861099140927, 220.7390886250369, 
        228.71058523870622, 235.69138873037762, 241.29105194524377, 245.05721385836648, 247.71165984281368, 
        249.01665904551226, 248.82063320462766, 247.0068303079819, 243.56367951726868, 238.4892458386332, 
        231.7885561787614, 223.51108830651002, 213.75672196844794, 202.58081248406926, 189.83189007080196, 
        175.27505114647127, 160.6504091355693, 145.68334388277843, 130.1244841376863, 114.73171693985528, 
        99.28301538413882, 83.6650746038274, 67.29975155801435, 51.25910534727689, 35.367329788573, 
        19.30122744107816, 3.4386579456263824, -12.624769757084983, -28.95168168587065, -45.432493440785105, 
        -62.05080738858732, -78.78650843970147, -95.61664592792927, -112.51568610572442, -129.453429809366, 
        -146.39707093381515, -163.31078561831947, -180.15620365082148, -196.892422264424, -213.48023029006453, 
        -229.88197527527187, -246.06030322381303, -261.97714882707976, -277.5945710654365, -292.87733434256586, 
        -307.7911913407091, -322.3033690911186, -336.37900574187865, -349.9909479479471, -363.1165686460751, 
        -375.7377434515335, -387.8410579514537, -399.4214306438545, -410.48280420775965, -420.9883782613968, 
        -430.9485864062048, -440.3661624692848, -449.3150666082697, -457.74851944005203, -465.61613156869043, 
        -472.94907303904746, -479.7381851674575, -485.9546479114281, -491.6311441816988, -496.72986331628907, 
        -501.16534836606595, -504.92753862180464, -507.9227394685798, -510.1507011759149, -511.5155506991073, 
        -511.93488060854907, -511.3287808859734, -509.6212951373717, -506.7459497484605, -502.67403884087115, 
        -497.3819480463878, -490.8680728293023, -483.12386627966095, -474.1429478284644, -463.9245503201173, 
        -452.46831090159134, -439.77744653374105, -425.8558188373817, -410.70678117647216, -394.3367854345926, 
        -376.75212660817415, -357.9605784424601, -337.97037148665216, -316.7907096213814, -294.43102079473955, 
        -270.90041180774304, -246.20826472505704, -220.36423618843848, -193.35817104398912, -165.200064686208, 
        -135.88924244714755, -105.42521046369817, -73.80772766655173, -41.03630965486555, -7.110638355643564, 
        27.281307931016615, 62.947820143505046, 98.74668527476865, 135.40710528967558, 173.40568103511755, 
        213.32271159664602, 255.56805870251854, 300.28706380061683, 347.75960393085524, 398.10688868901785, 
        451.5182871321668, 508.2339795909383, 568.5632492511582, 632.8965396012183, 701.6341894961741, 
        774.1617195101158, 850.8591180396355, 931.9899731128536, 1017.8247230633297, 1108.6163642907488, 
        1204.6015782799646, 1305.9108732712442, 1408.931358831185, 1511.8218905658217, 1611.758473471208, 
        1705.9449081697157, 1791.7094377321835, 1866.6205761336426, 1928.4062387812317, 1974.1815707479295, 
        2001.2140552166954, 2007.0686866893125, 1989.6039715858278, 1946.0414522713322, 1874.1700468000692, 
        1773.7314112365464, 1644.7967327264895, 1487.6734369828044, 1293.910277832055, 1064.2650782848742, 
        802.4412250546422, 505.10787061326865, 172.74425629211838, -224.68578847163504, -643.1465227410248, 
        -1031.7323252359792, -1386.6458634143482, -1608.208561644929, -1650.9466668558384, -1367.5802910743818, 
        -732.8835477070569, -37.7852219899354, 711.7995680357756, 1453.7793914052163, 2130.165893142464, 
        2668.1628733707413, 2960.077171168036, 2972.129894073883, 2430.7600141152384, 1220.7835355806862, 
        -178.3703780630598, -1734.3935052090768, -3505.6349313224236, -5312.50436488946, -6961.3635330398075

    };
    int size2 = sizeof(data2) / sizeof(data2[0]);
    int maxima2[MAX_SIZE], minima2[MAX_SIZE];
    int max_count2, min_count2;

    // Find peaks for Data 1
    find_peaks(data1, size1, maxima1, minima1, &max_count1, &min_count1);

    // Find peaks for Data 2
    find_peaks(data2, size2, maxima2, minima2, &max_count2, &min_count2);

    // Print results for Data 1
    printf("Maxima indices for Data 1: [");
    for (int i = 0; i < max_count1; i++) {
        printf("%d", maxima1[i]);
        if (i < max_count1 - 1) {
            printf(", ");
        }
    }
    printf("]\n");

    printf("Minima indices for Data 1: [");
    for (int i = 0; i < min_count1; i++) {
        printf("%d", minima1[i]);
        if (i < min_count1 - 1) {
            printf(", ");
        }
    }
    printf("]\n");

    // Print results for Data 2
    printf("Maxima indices for Data 2: [");
    for (int i = 0; i < max_count2; i++) {
        printf("%d", maxima2[i]);
        if (i < max_count2 - 1) {
            printf(", ");
        }
    }
    printf("]\n");

    printf("Minima indices for Data 2: [");
    for (int i = 0; i < min_count2; i++) {
        printf("%d", minima2[i]);
        if (i < min_count2 - 1) {
            printf(", ");
        }
    }
    printf("]\n");

    return 0;
}
